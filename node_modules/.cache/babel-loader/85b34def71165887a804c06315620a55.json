{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dokumente\\\\Programmier\\xFCbungen\\\\\\xDCbung JS\\\\React-Projekte\\\\quizapp\\\\src\\\\components\\\\CountryQuiz.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport InputField from './InputField';\nimport GuessedCountrys from './GuessedCountrys';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CountryQuiz = () => {\n  _s();\n\n  const apiUrl = \"https://restcountries.com/v3.1/all\";\n  const [quizState, setQuizState] = useState(\"generate\");\n  const [countryToGuess, setCountryToGuess] = useState({});\n  const [guessedCountrys, setGuessedCountrys] = useState([]);\n  const [allCountrys, setCountrys] = useState([]);\n\n  const callApi = async () => {\n    const res = await axios.get(apiUrl);\n    formatApiCountryData(res.data);\n  };\n\n  const formatApiCountryData = apiData => {\n    let filteredData = [];\n    apiData.forEach(item => {\n      var _item$capital, _item$continents;\n\n      filteredData.push({\n        \"name\": item.translations.deu.common,\n        \"population\": item.population,\n        \"capital\": (_item$capital = item.capital) === null || _item$capital === void 0 ? void 0 : _item$capital[0],\n        \"continent\": (_item$continents = item.continents) === null || _item$continents === void 0 ? void 0 : _item$continents[0],\n        \"area\": item.area\n      });\n    });\n    setCountrys(filteredData);\n    var keys = Object.keys(filteredData);\n    setCountryToGuess(filteredData[keys[keys.length * Math.random() << 0]]);\n  };\n\n  const checkInputGuessedCountryDuplicate = (country, guessedCountrys) => {\n    guessedCountrys.forEach(guesseditem => {\n      console.log(item);\n\n      if (country.name != guesseditem.name) {\n        guessedCountrys.push(item);\n      }\n    });\n  };\n\n  const checkCountry = e => {\n    let searchedCountry = { ...countryToGuess\n    };\n    let alreadyGuessed = [...guessedCountrys];\n    let countrys = [...allCountrys];\n\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n\n      if (e.currentTarget.value === searchedCountry.name) {//Win\n      } else {\n        countrys.forEach(item => {\n          if (e.currentTarget.value === item.name) {\n            checkInputGuessedCountryDuplicate();\n          }\n        });\n        console.log(alreadyGuessed);\n        setGuessedCountrys(alreadyGuessed);\n      }\n    }\n  };\n\n  const startQuiz = e => {\n    e.preventDefault();\n    callApi();\n    setQuizState(\"guess\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"countryQuiz\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Land in 5 versuchen erraten\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), quizState === \"generate\" ? /*#__PURE__*/_jsxDEV(InputField, {\n      action: startQuiz,\n      buttonLabel: \"Generieren\",\n      button: true,\n      input: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }, this) : quizState === \"guess\" ? /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"guessing\",\n      children: [/*#__PURE__*/_jsxDEV(InputField, {\n        action: checkCountry,\n        inputLabel: \"Land eingeben:\",\n        placeholder: \"Enter drücken zur Tippabgabe\",\n        button: false,\n        input: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(GuessedCountrys, {\n        countrys: guessedCountrys\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }, this) : \"\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CountryQuiz, \"voqoWh8sT1ZjVbuLj4GcnPrMZmw=\");\n\n_c = CountryQuiz;\nexport default CountryQuiz;\n\nvar _c;\n\n$RefreshReg$(_c, \"CountryQuiz\");","map":{"version":3,"names":["React","useEffect","useState","axios","InputField","GuessedCountrys","CountryQuiz","apiUrl","quizState","setQuizState","countryToGuess","setCountryToGuess","guessedCountrys","setGuessedCountrys","allCountrys","setCountrys","callApi","res","get","formatApiCountryData","data","apiData","filteredData","forEach","item","push","translations","deu","common","population","capital","continents","area","keys","Object","length","Math","random","checkInputGuessedCountryDuplicate","country","guesseditem","console","log","name","checkCountry","e","searchedCountry","alreadyGuessed","countrys","key","preventDefault","currentTarget","value","startQuiz"],"sources":["D:/Dokumente/Programmierübungen/Übung JS/React-Projekte/quizapp/src/components/CountryQuiz.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport InputField from './InputField';\r\nimport GuessedCountrys from './GuessedCountrys';\r\n\r\nconst CountryQuiz = () => {\r\n    const apiUrl = \"https://restcountries.com/v3.1/all\";\r\n    const [quizState, setQuizState] = useState(\"generate\");\r\n    const [countryToGuess, setCountryToGuess] = useState({});\r\n    const [guessedCountrys, setGuessedCountrys] = useState([]);\r\n    const [allCountrys, setCountrys] = useState([]);\r\n\r\n\r\n    const callApi = async () => {\r\n        const res = await axios.get(apiUrl);\r\n        formatApiCountryData(res.data);\r\n    }\r\n    const formatApiCountryData = (apiData) => {\r\n        let filteredData = [];\r\n        apiData.forEach((item) => {\r\n            filteredData.push({\r\n                \"name\": item.translations.deu.common,\r\n                \"population\": item.population,\r\n                \"capital\": item.capital?.[0],\r\n                \"continent\": item.continents?.[0],\r\n                \"area\": item.area\r\n            })\r\n        })\r\n        setCountrys(filteredData);\r\n\r\n        var keys = Object.keys(filteredData);\r\n        setCountryToGuess(filteredData[keys[keys.length * Math.random() << 0]]);\r\n    }\r\n    const checkInputGuessedCountryDuplicate = (country, guessedCountrys) => {\r\n\r\n        guessedCountrys.forEach((guesseditem) => {\r\n            console.log(item)\r\n            if (country.name != guesseditem.name) {\r\n                guessedCountrys.push(item);\r\n            }\r\n        })\r\n        \r\n    }\r\n    const checkCountry = (e) => {\r\n        let searchedCountry = { ...countryToGuess }\r\n        let alreadyGuessed = [...guessedCountrys]\r\n        let countrys = [...allCountrys]\r\n\r\n\r\n        if (e.key === \"Enter\") {\r\n            e.preventDefault();\r\n\r\n            if (e.currentTarget.value === searchedCountry.name) {\r\n                //Win\r\n            } else {\r\n                countrys.forEach((item) => {\r\n                    if (e.currentTarget.value === item.name) {\r\n                        checkInputGuessedCountryDuplicate()\r\n                    }\r\n                })\r\n                console.log(alreadyGuessed)\r\n                setGuessedCountrys(alreadyGuessed);\r\n            }\r\n        }\r\n    }\r\n    const startQuiz = (e) => {\r\n        e.preventDefault();\r\n        callApi();\r\n        setQuizState(\"guess\");\r\n    }\r\n\r\n    return (\r\n\r\n        <section className=\"countryQuiz\">\r\n            <header>\r\n                <h1>Land in 5 versuchen erraten</h1>\r\n            </header>\r\n            {quizState === \"generate\" ?\r\n                (\r\n                    <InputField\r\n                        action={startQuiz}\r\n                        buttonLabel={\"Generieren\"}\r\n                        button={true}\r\n                        input={false}\r\n\r\n                    ></InputField>\r\n                )\r\n\r\n                : quizState === \"guess\" ? (\r\n                    <section className='guessing'>\r\n                        <InputField\r\n                            action={checkCountry}\r\n                            inputLabel={\"Land eingeben:\"}\r\n                            placeholder={\"Enter drücken zur Tippabgabe\"}\r\n                            button={false}\r\n                            input={true}\r\n                        ></InputField>\r\n\r\n                        <GuessedCountrys\r\n                            countrys={guessedCountrys}\r\n                        ></GuessedCountrys>\r\n                    </section>\r\n                ) : \"\"\r\n            }\r\n\r\n        </section>\r\n    )\r\n}\r\nexport default CountryQuiz;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}